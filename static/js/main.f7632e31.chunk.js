(window["webpackJsonpnyc-bathroom-finder"]=window["webpackJsonpnyc-bathroom-finder"]||[]).push([[0],{160:function(e,t,a){e.exports=a(367)},165:function(e,t,a){},166:function(e,t,a){},367:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(42),s=a.n(o),l=(a(165),a(34)),i=a(3),c=a(4),m=a(6),u=a(5),p=a(7),h=a(29),d=a(33),f=(a(166),a(366),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={},a.onLogout=function(){localStorage.clear(),a.props.history.push("/login")},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={width:"50px",padding:"8px",margin:"6px 12px 6px",background:"purple",textDecoration:"none",color:"white"};return n.a.createElement("div",{className:"navbar"},n.a.createElement("div",{className:"buttons"},n.a.createElement("h2",{className:"title"},"NYC Restroom Finder"),n.a.createElement(d.b,{to:"/",style:e},"Home"),n.a.createElement(d.b,{to:"/about",style:e},"About"),n.a.createElement(d.b,{to:"/profile",style:e},"Profile")))}}]),t}(r.Component)),v=a(71),y=(a(74),r.Component,function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={username:"",review:"",name:""},a.handleChange=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.createReview(a.state)},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"reviews-container"},n.a.createElement("div",{className:"review-form"},n.a.createElement("h3",null,"Add a review:"),n.a.createElement("form",{onSubmit:this.handleSubmit,class:"ui form"},n.a.createElement("div",{class:"six wide field"},n.a.createElement("div",{class:"field"},n.a.createElement("label",null,"Restroom Name"),n.a.createElement("input",{name:"name",value:this.state.name,onChange:this.handleChange,placeholder:"Name",type:"text"}))),n.a.createElement("div",{class:"six wide field"},n.a.createElement("div",{class:"field"},n.a.createElement("label",null,"Review"),n.a.createElement("textarea",{name:"review",value:this.state.review,onChange:this.handleChange,rows:"2"}))),n.a.createElement("button",{class:"ui button",type:"submit"},"Submit"))),n.a.createElement("div",{className:"myreviews"},n.a.createElement("h3",null,"My Reviews"),n.a.createElement("ul",{className:"reviewlist"},this.props.myReviews.map(function(e){return n.a.createElement("li",null,n.a.createElement("div",null,n.a.createElement("h3",{className:"review-title"},e.name),e.review))}))))}}]),t}(r.Component)),b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={myReviews:[]},a.showFavorites=function(){return a.props.faveSpots.map(function(e){return n.a.createElement("div",null,n.a.createElement("li",null,n.a.createElement("h3",{className:"favoritetitle"},e.restroom.name),n.a.createElement("p",null,e.restroom.address),n.a.createElement("p",null,"Restroom Type: ",e.restroom.restroom_type),n.a.createElement("p",null,"Wheelchair Accessible? ",e.restroom.wheelchair_accessible),n.a.createElement("p",null,"Hours: ",e.restroom.start_time,"-",e.restroom.end_time),n.a.createElement("button",{onClick:function(t){a.props.deleteFave(e)}},"Remove")),n.a.createElement("br",null))})},a.createReview=function(e){a.setState({myReviews:[].concat(Object(l.a)(a.state.myReviews),[e])})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"user-info"},n.a.createElement("div",{className:"profile-header"},n.a.createElement("h3",{className:"faves-heading"},"My Go To List"),n.a.createElement("div",{className:"my-faves"},this.props.username?"Welcome, ".concat(this.props.username,"!"):null,n.a.createElement("ul",{className:"favorites"},n.a.createElement("h3",null,this.showFavorites()))),n.a.createElement(y,{createReview:this.createReview,myReviews:this.state.myReviews})))}}]),t}(r.Component),E=a(159),g=a(44),T=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#6195a0"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"landscape",elementType:"geometry",stylers:[{lightness:"0"},{saturation:"0"},{color:"#f5f5f2"},{gamma:"1"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{lightness:"-3"},{gamma:"1.00"}]},{featureType:"landscape.natural.terrain",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#bae5ce"},{visibility:"on"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45},{visibility:"simplified"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#fac9a9"},{visibility:"simplified"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{color:"#4e4e4e"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#787878"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"transit.station.airport",elementType:"labels.icon",stylers:[{hue:"#0a00ff"},{saturation:"-77"},{gamma:"0.57"},{lightness:"0"}]},{featureType:"transit.station.rail",elementType:"labels.text.fill",stylers:[{color:"#43321e"}]},{featureType:"transit.station.rail",elementType:"labels.icon",stylers:[{hue:"#ff6c00"},{lightness:"4"},{gamma:"0.75"},{saturation:"-68"}]},{featureType:"water",elementType:"all",stylers:[{color:"#eaf6f8"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c7eced"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{lightness:"-49"},{saturation:"-53"},{gamma:"0.79"}]}];var w=Object(g.withScriptjs)(Object(g.withGoogleMap)(function(e){var t=Object(r.useState)(null),a=Object(E.a)(t,2),o=a[0],s=a[1];return n.a.createElement(g.GoogleMap,{defaultZoom:13.5,defaultCenter:{lat:40.700771,lng:-73.987411},defaultOptions:{styles:T}},e.restrooms.map(function(e){return n.a.createElement(g.Marker,{key:e.id,position:{lat:e.latitude,lng:e.longitude},onClick:function(){s(e)},icon:{url:"/unisex.svg",scaledSize:new window.google.maps.Size(25,25)},animation:window.google.maps.Animation.DROP})}),o&&n.a.createElement(g.InfoWindow,{visible:!0,position:{lat:parseFloat(o.latitude),lng:parseFloat(o.longitude)},onCloseClick:function(){s(null)}},n.a.createElement("div",null,n.a.createElement("h2",null,o.name),n.a.createElement("p",null,o.address),n.a.createElement("p",null,"Type: ",o.restroom_type),n.a.createElement("p",null,"Wheelchair Accessible: ",o.wheelchair_accessible),n.a.createElement("p",null,"Hours: ",o.start_time,"-",o.end_time),n.a.createElement("p",null,"Save it to your selected list? ",n.a.createElement("button",{onClick:function(){e.addFave(o)}},"Yes!")))))}));function j(e){return n.a.createElement("div",{className:"map"},n.a.createElement(w,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyB7k7XnsI-2jwZs4DvwFyKqKCNEDtYElmg"),loadingElement:n.a.createElement("div",{style:{height:"100%"}}),containerElement:n.a.createElement("div",{style:{height:"100%"}}),mapElement:n.a.createElement("div",{style:{height:"100%"}}),restrooms:e.allRestrooms,addFave:e.addFave,hovered:e.hovered}))}var k=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).showFavorites=function(){return a.props.faveSpots.map(function(e){return n.a.createElement("div",null,n.a.createElement("li",null,n.a.createElement("h3",{className:"favoritetitle"},e.restroom.name),n.a.createElement("p",null,e.restroom.address),n.a.createElement("p",null,"Restroom Type: ",e.restroom.restroom_type),n.a.createElement("p",null,"Wheelchair Accesible? ",e.restroom.wheelchair_accessible),n.a.createElement("p",null,"Hours: ",e.restroom.start_time,"-",e.restroom.end_time),n.a.createElement("button",{onClick:function(t){a.props.deleteFave(e)}},"Remove")),n.a.createElement("br",null))})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"favorites"},n.a.createElement("h2",{className:"favorites-title"},"My Selected Restrooms"),n.a.createElement("ul",{className:"favorites-list"},this.showFavorites()))}}]),t}(n.a.Component),N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={clicked:!1},a.handleRestroomClick=function(){a.setState({clicked:!0})},a.onMouseMove=function(e){console.log(a.props),a.props.onHover(a.props.restroom)},a.mapClick=function(){a.props.showInfo(a.props)},a.handleClick=function(){console.log(a.props),a.props.addFave(a.props.restroom)},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){this.state.clicked&&this.props.restroom.img;return n.a.createElement("div",null,n.a.createElement("div",{className:"ui card"},n.a.createElement("div",{className:"content"},n.a.createElement("div",{className:"header"},n.a.createElement("h4",{className:"point",onMouseMove:this.onMouseMove},this.props.restroom.name)),n.a.createElement("div",{className:"meta"}),n.a.createElement("div",{className:"description"},n.a.createElement("p",null,"Address: ",this.props.restroom.address),n.a.createElement("p",null,"Type: ",this.props.restroom.restroom_type),n.a.createElement("p",null,"Wheelchair Accessible?"," ",this.props.restroom.wheelchair_accessible),n.a.createElement("p",null,"Hours: ",this.props.restroom.start_time," to ",this.props.restroom.end_time)),n.a.createElement("button",{className:"ui vertical animated button",onClick:this.handleClick},n.a.createElement("div",{className:"hidden content"},"Add"),n.a.createElement("div",{className:"visible content"},n.a.createElement("i",{"aria-hidden":"true",className:"favorite icon"}))))))}}]),t}(r.Component),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={value:"",radioButton:!1},a.handleChange=function(e){a.setState({value:e.target.value})},a.onClickButton=function(e){e.target.checked&&!a.state.radioButton?a.setState({radioButton:!0}):e.target.checked&&a.state.radioButton&&a.setState({radioButton:!1})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"filter-list"},n.a.createElement("h3",null,"Filter By:"),n.a.createElement("label",{className:"sort"},n.a.createElement("input",{type:"radio",onClick:this.onClickButton,value:"All",name:"name",checked:"All"===this.props.sortTerm||"",onChange:function(t){return e.props.setSortTerm(t.target.value)}}),"All"),n.a.createElement("label",{className:"sort"},n.a.createElement("input",{type:"radio",className:"sort",name:"name",value:"public",checked:"public"===this.props.sortTerm||"",onChange:function(t){return e.props.setSortTerm(t.target.value)}}),"Public"),n.a.createElement("label",{className:"sort"},n.a.createElement("input",{type:"radio",className:"sort",name:"name",value:"coffee shop",checked:"coffee shop"===this.props.sortTerm||"",onChange:function(t){return e.props.setSortTerm(t.target.value)}}),"Coffee Shop"),n.a.createElement("label",{className:"sort"},n.a.createElement("input",{type:"radio",className:"sort",name:"name",value:"book store",checked:"book store"===this.props.sortTerm||"",onChange:function(t){return e.props.setSortTerm(t.target.value)}}),"Book Store"),n.a.createElement("label",{className:"sort"},n.a.createElement("input",{type:"radio",className:"sort",name:"name",value:"hotel",checked:"hotel"===this.props.sortTerm||"",onChange:function(t){return e.props.setSortTerm(t.target.value)}}),"Hotel"),n.a.createElement("label",{className:"sort"},n.a.createElement("input",{type:"radio",className:"sort",name:"name",value:"fast food",checked:"fast food"===this.props.sortTerm||"",onChange:function(t){return e.props.setSortTerm(t.target.value)}}),"Fast Food"),n.a.createElement("label",{className:"sort"},n.a.createElement("input",{type:"radio",className:"sort",name:"name",value:"department store",checked:"department store"===this.props.sortTerm||"",onChange:function(t){return e.props.setSortTerm(t.target.value)}}),"Department Store"),n.a.createElement("label",{className:"sort"},n.a.createElement("input",{type:"radio",className:"sort",name:"name",value:"other",checked:"other"===this.props.sortTerm||"",onChange:function(t){return e.props.setSortTerm(t.target.value)}}),"Other"),n.a.createElement("label",{className:"sort"},n.a.createElement("input",{type:"checkbox",className:"sort",name:"name",value:"Yes",checked:"Yes"===this.props.sortTerm||"",onChange:function(t){return e.props.setSortTerm(t.target.value)}}),"Wheelchair Accessible"),n.a.createElement("br",null))}}]),t}(r.Component),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={xcoordinate:40.700771,ycoordinate:-73.987411,allRestrooms:[],filterTerm:"",hovered:null,sortTerm:"All",selectedMarker:"",favoriteSpot:[],userAddress:"",currentProfile:null,myFaves:[]},a.setSortTerm=function(e){a.setState({sortTerm:e})},a.showInfo=function(e){a.setState({selectedMarker:e}),console.log(a.state.selectedMarker)},a.handleHover=function(e){console.log(e),a.setState({hovered:e.name})},a.filterSpot=function(){var e=Object(l.a)(a.state.allRestrooms);return"All"===a.state.sortTerm?e=Object(l.a)(a.state.allRestrooms):"public"===a.state.sortTerm?e=e.filter(function(e){return e.restroom_type===a.state.sortTerm}):"coffee shop"===a.state.sortTerm?e=e.filter(function(e){return e.restroom_type===a.state.sortTerm}):"hotel"===a.state.sortTerm?e=e.filter(function(e){return e.restroom_type===a.state.sortTerm}):"book store"===a.state.sortTerm?e=e.filter(function(e){return e.restroom_type===a.state.sortTerm}):"fast food"===a.state.sortTerm?e=e.filter(function(e){return e.restroom_type===a.state.sortTerm}):"department store"===a.state.sortTerm?e=e.filter(function(e){return e.restroom_type===a.state.sortTerm}):"other"===a.state.sortTerm?e=e.filter(function(e){return e.restroom_type===a.state.sortTerm}):"Yes"===a.state.sortTerm&&(e=e.filter(function(e){return e.wheelchair_accessible===a.state.sortTerm})),e.map(function(e){return n.a.createElement(N,{key:e.id,showInfo:a.showInfo,restroom:e,onHover:a.handleHover,addFave:a.props.addFave})})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:3000/restrooms").then(function(e){return e.json()}).then(function(t){e.setState({allRestrooms:t})})}},{key:"render",value:function(){return console.log(this.state.sortTerm),n.a.createElement("div",{className:"home"},n.a.createElement("br",null),n.a.createElement("div",{className:"home-map"},n.a.createElement(j,{coordinates:{lat:this.state.xcoordinate,lng:this.state.ycoordinate},allRestrooms:this.state.allRestrooms,selectedMarker:this.state.selectedMarker,onHover:this.handleHover,hovered:this.state.hovered,addFave:this.props.addFave,userAddress:this.state.userAddress}),n.a.createElement("div",{className:"restroom-faves"},n.a.createElement(k,{onHover:this.handleHover,faveSpots:this.props.faveSpots,deleteFave:this.props.deleteFave,myFaves:this.props.myFaves}))),n.a.createElement("div",{className:"result-container"},n.a.createElement("div",{className:"filter"},n.a.createElement(O,{setFilterTerm:this.setFilterTerm,sortTerm:this.state.sortTerm,term:this.state.filterTerm,setSortTerm:this.setSortTerm})),n.a.createElement("div",{className:"restroomlist"},n.a.createElement("div",{class:"ui four column grid"},n.a.createElement("div",{class:"row"},this.filterSpot())))))}}]),t}(r.Component),C=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"about"},n.a.createElement("p",null,"Have you ever wondered where are all the free restrooms when you're just hanging out in the city? Your first thought is to go to Starbucks and then realize you have to wait on a long line just to buy something small and expensive. Frustrating right? Rest assured, this website will help you decide where to go to find the nearest restroom of your choice! You can filter by type on the list below on the home page and add it to your favorite list or by selecting the specific marker on the map."),n.a.createElement("p",null,"After you add your restrooms to visit, it shows up on the top of your Profile page. Please make a review of your experience using the restroom below. Thanks!"))}}]),t}(r.Component),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={xcoordinate:40.700771,ycoordinate:-73.987411,allRestrooms:[],page:"login",name:"",faveSpots:[]},a.redirect=function(e){a.setState({page:e})},a.addFave=function(e){a.state.faveSpots.includes(e)||fetch("http://localhost:3000/favorites",{method:"POST",headers:{Accepts:"application/json","Content-Type":"application/json"},body:JSON.stringify({user_id:3,restroom_id:e.id})}).then(function(e){return e.json()}).then(function(e){a.setState({faveSpots:[].concat(Object(l.a)(a.state.faveSpots),[e])})})},a.deleteFave=function(e){console.log(e),fetch("http://localhost:3000/favorites/".concat(e.id),{method:"DELETE"}).then(function(){var t=a.state.faveSpots.filter(function(t){return t.id!==e.id});a.setState({faveSpots:t})})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.faveSpots;return console.log(t),n.a.createElement("div",{className:"app"},n.a.createElement(f,null),n.a.createElement(h.c,null,n.a.createElement(h.a,{exact:!0,path:"/",render:function(a){return n.a.createElement(S,{faveSpots:t,deleteFave:e.deleteFave,addFave:e.addFave})}}),n.a.createElement(h.a,{exact:!0,path:"/about",render:function(e){return n.a.createElement(C,null)}}),n.a.createElement(h.a,{exact:!0,path:"/profile",render:function(a){return n.a.createElement(b,Object.assign({},a,{faveSpots:t,addFave:e.addFave,deleteFave:e.deleteFave}))}})),n.a.createElement("div",{className:"bottom bar"},"Made by fellow Glorious Pegasus: Kevin Wang"))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(d.a,null,n.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},74:function(e,t,a){}},[[160,1,2]]]);
//# sourceMappingURL=main.f7632e31.chunk.js.map